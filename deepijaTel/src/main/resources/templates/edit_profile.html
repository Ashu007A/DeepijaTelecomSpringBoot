<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Edit Profile</title>
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" type="text/css" th:href="@{/styles.css}">
  <style>
    body {
        background-image: url('/sessions.jpg');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
    }
    form {
        margin: 0 auto;
        width: 40%;
    }
    h1 {
        font-size: larger;
        float: left;
        color: #FFC0FF;
    }
    .active {
        color: black;
        font-weight: bold;
        background-color: lightgray;
    }
  </style>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script>
    function confirmLogout(event) {
        event.preventDefault();
        var userConfirmed = confirm("Are you sure you want to log out?");
        if (userConfirmed) {
            window.location.href = event.target.href;
        }
    }
  </script>
</head>
<body>
<div class="navigation">
  <nav>
    <ul>
      <h1>Deepija Telecom Pvt. Ltd.</h1>
      <li><a th:href="@{/logout}" th:classappend="${page == 'logout' ? 'active' : ''}" onclick="confirmLogout(event)">Logout</a></li>
      <li><a th:href="@{/contact}" th:classappend="${page == 'contact' ? 'active' : ''}">Contact</a></li>
      <li><a th:href="@{/delete_account}" th:classappend="${page == 'delete_account' ? 'active' : ''}">Delete Account</a></li>
      <li><a th:href="@{/change_username_password}" th:classappend="${page == 'change_user_password' ? 'active' : ''}">Change Username/Password</a></li>
      <li><a th:href="@{/edit_profile}" th:classappend="${page == 'edit_profile' ? 'active' : ''}">Edit Profile</a></li>
      <li><a th:href="@{/dashboard}" th:classappend="${page == 'dashboard' ? 'active' : ''}">Dashboard</a></li>
    </ul>
  </nav>
</div>
<div class="heading">
  <h2 style="text-align: center;">Edit Profile</h2>
</div>
<form th:action="@{/edit_profile}" method="post">
  <label for="name">Name:</label>
  <input type="text" id="name" name="name" th:value="${user.name}" required><br><br>
  <label for="email">Email:</label>
  <input type="email" id="email" name="email" th:value="${user.email}" required><br><br>
  <label for="phone">Phone Number:</label>
  <input type="tel" id="phone" name="phone" th:value="${user.phone}" required><br><br>
  <label for="state">State:</label>
  <input type="text" id="state" name="state" th:value="${user.state}" required><br><br>
  <label for="district">District:</label>
  <input type="text" id="district" name="district" th:value="${user.district}" required><br><br>
  <label for="city">City:</label>
  <input type="text" id="city" name="city" th:value="${user.city}" required><br><br>
  <label for="dob">Date of Birth:</label>
  <input type="date" id="dob" name="dob" th:value="${user.dob}" required><br><br>
  <label for="gender">Gender:</label>
  <input type="radio" id="male" name="gender" value="male" th:checked="${user.gender == 'male'}">
  <label for="male">Male</label>
  <input type="radio" id="female" name="gender" value="female" th:checked="${user.gender == 'female'}">
  <label for="female">Female</label><br><br>
  <label for="course">Course Selection:</label><br>
  <input type="checkbox" id="course1" name="course" value="MERN Stack" th:checked="${#lists.contains(user.course, 'MERN Stack')}">
  <label for="course1">MERN Stack</label><br>
  <input type="checkbox" id="course2" name="course" value="Mean Stack" th:checked="${#lists.contains(user.course, 'Mean Stack')}">
  <label for="course2">Mean Stack</label><br>
  <input type="checkbox" id="course3" name="course" value="Full Stack" th:checked="${#lists.contains(user.course, 'Full Stack')}">
  <label for="course3">Full Stack</label><br><br>
  <label for="address">Address:</label><br>
  <textarea id="address" name="address" rows="4" cols="50" th:text="${user.address}"></textarea><br><br>
  <input type="submit" value="Update Profile">
</form>
</body>
</html>